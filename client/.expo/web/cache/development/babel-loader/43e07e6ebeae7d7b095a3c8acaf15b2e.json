{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/gautiermarechal/recipes-generator/client/components/IngredientsScreen.js\";\n\nimport React from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { ScrollView, TouchableOpacity } from \"react-native-gesture-handler\";\nimport AddIcon from \"../assets/add.js\";\nimport DownArrow from \"../assets/down-chevron.js\";\nimport InvoiceIcon from \"../assets/invoice.js\";\nimport BarCodeIcon from \"../assets/bar-code.js\";\nimport ManuallyIcon from \"../assets/up-sign.js\";\nimport { COLORS } from \"../libs/constants\";\nimport IngredientsList from \"./IngredientsList.js\";\nimport Modal from \"react-native-modal\";\nimport SearchBar from \"./SearchBar.js\";\nimport fetchIngredientsSearchApi from \"../libs/handlers/fetchIngredientsSearchApi.js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport ListIcon from \"../assets/list-text.js\";\nimport { receiveNewIngredients } from \"../libs/redux/actions/NewIngredientsActions.js\";\n\nvar IngredientsScreen = function IngredientsScreen(_ref) {\n  var navigation = _ref.navigation;\n  var dispatch = useDispatch();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isShown = _React$useState2[0],\n      setIsShown = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      isModalVisible = _React$useState4[0],\n      setIsModalVisible = _React$useState4[1];\n\n  var ingredientsResults = useSelector(function (state) {\n    return state.ingredientsSearch.ingredients;\n  });\n  var newIngredients = useSelector(function (state) {\n    return state.newIngredients.newIngredients;\n  });\n\n  var toggleDropDown = function toggleDropDown() {\n    if (isShown) {\n      setIsShown(!isShown);\n    } else {\n      setIsShown(!isShown);\n    }\n  };\n\n  var styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      alignItems: \"center\"\n    },\n    dropdownContainer: {\n      display: isShown ? \"flex\" : \"none\",\n      marginTop: 30\n    },\n    dropdownButton: {\n      height: 40,\n      backgroundColor: COLORS.white,\n      margin: 5,\n      padding: 10,\n      borderRadius: 7,\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    titleContainer: {\n      display: \"flex\",\n      height: 40,\n      marginTop: 30\n    },\n    title: {\n      fontSize: 30,\n      fontWeight: \"800\"\n    },\n    buttonContainer: {\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      backgroundColor: COLORS.lightCoral,\n      borderRadius: 7,\n      width: 100,\n      height: 40,\n      marginTop: 10,\n      marginBottom: 5\n    },\n    modalContainer: {\n      flex: 1,\n      backgroundColor: COLORS.white,\n      alignItems: \"center\",\n      overflow: \"hidden\",\n      position: \"relative\"\n    },\n    modalTitle: {\n      fontSize: 20,\n      fontWeight: \"800\",\n      marginTop: 30\n    },\n    ingredientContainer: {\n      flex: 1,\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      margin: 10,\n      marginLeft: 20,\n      height: 80,\n      padding: 5\n    },\n    ingredientContainerActive: {\n      flex: 1,\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      margin: 10,\n      marginLeft: 20,\n      height: 80,\n      backgroundColor: COLORS.lightCoral,\n      padding: 5\n    },\n    ingredientImage: {\n      height: 40,\n      width: 40,\n      borderRadius: 7\n    },\n    ingredientLabel: {\n      marginLeft: 10,\n      fontSize: 20,\n      flexWrap: \"wrap\"\n    },\n    footer: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      height: 70\n    },\n    cancelButton: {\n      flex: 2,\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      padding: 10,\n      backgroundColor: COLORS.grey,\n      height: \"100%\"\n    },\n    confirmButton: {\n      flex: 2,\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      padding: 10,\n      backgroundColor: COLORS.lightCoral,\n      height: \"100%\"\n    },\n    buttonText: {\n      color: COLORS.white,\n      fontSize: 20\n    },\n    ingredientsChosenButton: {\n      bottom: \"15%\",\n      marginRight: 5,\n      right: 0,\n      position: \"absolute\",\n      backgroundColor: COLORS.lightCoral,\n      padding: 10,\n      borderRadius: 100,\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    ingredientsList: {\n      flex: 1\n    }\n  });\n  return React.createElement(React.Fragment, null, React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }\n  }, React.createElement(Modal, {\n    isVisible: isModalVisible,\n    style: styles.modalContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.modalTitle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 11\n    }\n  }, \"Search and choose your ingredients below:\"), React.createElement(SearchBar, {\n    searchType: \"ingredientsAPI\",\n    onChangeProp: fetchIngredientsSearchApi,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }), ingredientsResults ? ingredientsResults.length !== 0 ? React.createElement(FlatList, {\n    data: ingredientsResults,\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item,\n          index = _ref2.index;\n      return React.createElement(Pressable, {\n        key: index,\n        style: newIngredients.some(function (el) {\n          return el.food.foodId === item.food.foodId;\n        }) ? styles.ingredientContainerActive : styles.ingredientContainer,\n        onPress: function onPress() {\n          return dispatch(receiveNewIngredients(item));\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 19\n        }\n      }, React.createElement(Image, {\n        source: {\n          uri: item.food.image\n        },\n        style: styles.ingredientImage,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 21\n        }\n      }), React.createElement(Text, {\n        style: styles.ingredientLabel,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }\n      }, item.food.label));\n    },\n    keyExtractor: function keyExtractor(item, index) {\n      return index.toString();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 15\n    }\n  }) : React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 15\n    }\n  }, \"Your results\") : null, React.createElement(View, {\n    style: styles.ingredientsList,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 11\n    }\n  }, newIngredients.length !== 0 ? React.createElement(FlatList, {\n    data: newIngredients,\n    renderItem: function renderItem(_ref3) {\n      var item = _ref3.item,\n          index = _ref3.index;\n      return React.createElement(Pressable, {\n        key: index,\n        style: styles.ingredientContainer,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 19\n        }\n      }, React.createElement(Image, {\n        source: {\n          uri: item.food.image\n        },\n        style: styles.ingredientImage,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 21\n        }\n      }), React.createElement(Text, {\n        style: styles.ingredientLabel,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 21\n        }\n      }, item.food.label));\n    },\n    keyExtractor: function keyExtractor(item, index) {\n      return index.toString();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 15\n    }\n  }) : React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 15\n    }\n  }, \"You don't have ingredients yet.\")), React.createElement(View, {\n    style: styles.footer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 11\n    }\n  }, React.createElement(Pressable, {\n    style: styles.cancelButton,\n    onPress: function onPress() {\n      return setIsModalVisible(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 15\n    }\n  }, \"Cancel\")), React.createElement(Pressable, {\n    style: styles.confirmButton,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 15\n    }\n  }, \"Confirm\")))), React.createElement(View, {\n    style: styles.titleContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 11\n    }\n  }, \"Ingredients \")), React.createElement(TouchableOpacity, {\n    style: styles.buttonContainer,\n    onPress: toggleDropDown,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 9\n    }\n  }, isShown ? React.createElement(DownArrow, {\n    width: 20,\n    height: 20,\n    fill: COLORS.white,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 13\n    }\n  }) : React.createElement(AddIcon, {\n    width: 20,\n    height: 20,\n    fill: COLORS.white,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }\n  })), React.createElement(View, {\n    style: styles.dropdownContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.dropdownButton,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 11\n    }\n  }, React.createElement(InvoiceIcon, {\n    width: 20,\n    height: 20,\n    fill: COLORS.lightCoral,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }\n  }, \"Take a photo of your groceries receipt\")), React.createElement(TouchableOpacity, {\n    style: styles.dropdownButton,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 11\n    }\n  }, React.createElement(BarCodeIcon, {\n    width: 20,\n    height: 20,\n    fill: COLORS.lightCoral,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 13\n    }\n  }, \"Scan your ingredients barcode\")), React.createElement(TouchableOpacity, {\n    style: styles.dropdownButton,\n    onPress: function onPress() {\n      return setIsModalVisible(!isModalVisible);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 11\n    }\n  }, React.createElement(ManuallyIcon, {\n    width: 20,\n    height: 20,\n    fill: COLORS.lightCoral,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 13\n    }\n  }, \"Manually enter your ingredients below\"))), React.createElement(IngredientsList, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default IngredientsScreen;","map":{"version":3,"sources":["/Users/gautiermarechal/recipes-generator/client/components/IngredientsScreen.js"],"names":["React","ScrollView","TouchableOpacity","AddIcon","DownArrow","InvoiceIcon","BarCodeIcon","ManuallyIcon","COLORS","IngredientsList","Modal","SearchBar","fetchIngredientsSearchApi","useDispatch","useSelector","ListIcon","receiveNewIngredients","IngredientsScreen","navigation","dispatch","useState","isShown","setIsShown","isModalVisible","setIsModalVisible","ingredientsResults","state","ingredientsSearch","ingredients","newIngredients","toggleDropDown","styles","StyleSheet","create","container","flex","alignItems","dropdownContainer","display","marginTop","dropdownButton","height","backgroundColor","white","margin","padding","borderRadius","justifyContent","titleContainer","title","fontSize","fontWeight","buttonContainer","flexDirection","lightCoral","width","marginBottom","modalContainer","overflow","position","modalTitle","ingredientContainer","marginLeft","ingredientContainerActive","ingredientImage","ingredientLabel","flexWrap","footer","cancelButton","grey","confirmButton","buttonText","color","ingredientsChosenButton","bottom","marginRight","right","ingredientsList","length","item","index","some","el","food","foodId","uri","image","label","toString"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  StyleSheet,\n  Text,\n  View,\n  Pressable,\n  Button,\n  Image,\n  FlatList,\n} from \"react-native\";\nimport { ScrollView, TouchableOpacity } from \"react-native-gesture-handler\";\nimport AddIcon from \"../assets/add.js\";\nimport DownArrow from \"../assets/down-chevron.js\";\nimport InvoiceIcon from \"../assets/invoice.js\";\nimport BarCodeIcon from \"../assets/bar-code.js\";\nimport ManuallyIcon from \"../assets/up-sign.js\";\nimport { COLORS } from \"../libs/constants\";\nimport IngredientsList from \"./IngredientsList.js\";\nimport Modal from \"react-native-modal\";\nimport SearchBar from \"./SearchBar.js\";\nimport fetchIngredientsSearchApi from \"../libs/handlers/fetchIngredientsSearchApi.js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport ListIcon from \"../assets/list-text.js\";\nimport { receiveNewIngredients } from \"../libs/redux/actions/NewIngredientsActions.js\";\n\nconst IngredientsScreen = ({ navigation }) => {\n  const dispatch = useDispatch();\n  const [isShown, setIsShown] = React.useState(false);\n  const [isModalVisible, setIsModalVisible] = React.useState(false);\n  const ingredientsResults = useSelector(\n    (state) => state.ingredientsSearch.ingredients\n  );\n  const newIngredients = useSelector(\n    (state) => state.newIngredients.newIngredients\n  );\n\n  const toggleDropDown = () => {\n    if (isShown) {\n      setIsShown(!isShown);\n    } else {\n      setIsShown(!isShown);\n    }\n  };\n\n  const styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      alignItems: \"center\",\n    },\n    dropdownContainer: {\n      display: isShown ? \"flex\" : \"none\",\n      marginTop: 30,\n    },\n    dropdownButton: {\n      height: 40,\n      backgroundColor: COLORS.white,\n      margin: 5,\n      padding: 10,\n      borderRadius: 7,\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n    titleContainer: {\n      display: \"flex\",\n      height: 40,\n      marginTop: 30,\n    },\n    title: {\n      fontSize: 30,\n      fontWeight: \"800\",\n    },\n    buttonContainer: {\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      backgroundColor: COLORS.lightCoral,\n      borderRadius: 7,\n      width: 100,\n      height: 40,\n      marginTop: 10,\n      marginBottom: 5,\n    },\n    modalContainer: {\n      flex: 1,\n      backgroundColor: COLORS.white,\n      alignItems: \"center\",\n      overflow: \"hidden\",\n      position: \"relative\",\n    },\n    modalTitle: {\n      fontSize: 20,\n      fontWeight: \"800\",\n      marginTop: 30,\n    },\n    ingredientContainer: {\n      flex: 1,\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      margin: 10,\n      marginLeft: 20,\n      height: 80,\n      padding: 5,\n    },\n    ingredientContainerActive: {\n      flex: 1,\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      margin: 10,\n      marginLeft: 20,\n      height: 80,\n      backgroundColor: COLORS.lightCoral,\n      padding: 5,\n    },\n    ingredientImage: {\n      height: 40,\n      width: 40,\n      borderRadius: 7,\n    },\n    ingredientLabel: {\n      marginLeft: 10,\n      fontSize: 20,\n      flexWrap: \"wrap\",\n    },\n    footer: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      height: 70,\n    },\n    cancelButton: {\n      flex: 2,\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      padding: 10,\n      backgroundColor: COLORS.grey,\n      height: \"100%\",\n    },\n    confirmButton: {\n      flex: 2,\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      padding: 10,\n      backgroundColor: COLORS.lightCoral,\n      height: \"100%\",\n    },\n    buttonText: {\n      color: COLORS.white,\n      fontSize: 20,\n    },\n    ingredientsChosenButton: {\n      bottom: \"15%\",\n      marginRight: 5,\n      right: 0,\n      position: \"absolute\",\n      backgroundColor: COLORS.lightCoral,\n      padding: 10,\n      borderRadius: 100,\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n    ingredientsList: {\n      flex: 1,\n    },\n  });\n\n  return (\n    <>\n      <View style={styles.container}>\n        <Modal isVisible={isModalVisible} style={styles.modalContainer}>\n          <Text style={styles.modalTitle}>\n            Search and choose your ingredients below:\n          </Text>\n          <SearchBar\n            searchType=\"ingredientsAPI\"\n            onChangeProp={fetchIngredientsSearchApi}\n          />\n          {ingredientsResults ? (\n            ingredientsResults.length !== 0 ? (\n              <FlatList\n                data={ingredientsResults}\n                renderItem={({ item, index }) => (\n                  <Pressable\n                    key={index}\n                    style={\n                      newIngredients.some(\n                        (el) => el.food.foodId === item.food.foodId\n                      )\n                        ? styles.ingredientContainerActive\n                        : styles.ingredientContainer\n                    }\n                    onPress={() => dispatch(receiveNewIngredients(item))}\n                  >\n                    <Image\n                      source={{ uri: item.food.image }}\n                      style={styles.ingredientImage}\n                    />\n                    <Text style={styles.ingredientLabel}>\n                      {item.food.label}\n                    </Text>\n                  </Pressable>\n                )}\n                keyExtractor={(item, index) => index.toString()}\n              />\n            ) : (\n              <Text>Your results</Text>\n            )\n          ) : null}\n          <View style={styles.ingredientsList}>\n            {newIngredients.length !== 0 ? (\n              <FlatList\n                data={newIngredients}\n                renderItem={({ item, index }) => (\n                  <Pressable key={index} style={styles.ingredientContainer}>\n                    <Image\n                      source={{ uri: item.food.image }}\n                      style={styles.ingredientImage}\n                    />\n                    <Text style={styles.ingredientLabel}>\n                      {item.food.label}\n                    </Text>\n                  </Pressable>\n                )}\n                keyExtractor={(item, index) => index.toString()}\n              />\n            ) : (\n              <Text>You don't have ingredients yet.</Text>\n            )}\n          </View>\n          <View style={styles.footer}>\n            <Pressable\n              style={styles.cancelButton}\n              onPress={() => setIsModalVisible(false)}\n            >\n              <Text style={styles.buttonText}>Cancel</Text>\n            </Pressable>\n            <Pressable style={styles.confirmButton}>\n              <Text style={styles.buttonText}>Confirm</Text>\n            </Pressable>\n          </View>\n        </Modal>\n        <View style={styles.titleContainer}>\n          <Text style={styles.title}>Ingredients </Text>\n        </View>\n        <TouchableOpacity\n          style={styles.buttonContainer}\n          onPress={toggleDropDown}\n        >\n          {isShown ? (\n            <DownArrow width={20} height={20} fill={COLORS.white} />\n          ) : (\n            <AddIcon width={20} height={20} fill={COLORS.white} />\n          )}\n        </TouchableOpacity>\n        <View style={styles.dropdownContainer}>\n          <TouchableOpacity style={styles.dropdownButton}>\n            <InvoiceIcon width={20} height={20} fill={COLORS.lightCoral} />\n            <Text>Take a photo of your groceries receipt</Text>\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.dropdownButton}>\n            <BarCodeIcon width={20} height={20} fill={COLORS.lightCoral} />\n            <Text>Scan your ingredients barcode</Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={styles.dropdownButton}\n            onPress={() => setIsModalVisible(!isModalVisible)}\n          >\n            <ManuallyIcon width={20} height={20} fill={COLORS.lightCoral} />\n            <Text>Manually enter your ingredients below</Text>\n          </TouchableOpacity>\n        </View>\n        <IngredientsList />\n      </View>\n    </>\n  );\n};\n\nexport default IngredientsScreen;\n"]},"metadata":{},"sourceType":"module"}